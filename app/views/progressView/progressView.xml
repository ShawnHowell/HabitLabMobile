<Page loaded="pageLoaded"
  xmlns:sidedrawer="shared/sd" 
  xmlns="http://schemas.nativescript.org/tns.xsd" 
  xmlns:sd="nativescript-telerik-ui/sidedrawer" 
  xmlns:taskPie="nativescript-taskpie"
  xmlns:lv="nativescript-telerik-ui/listview"
  xmlns:RL="nativescript-ripple">

	<ActionBar class="action-bar">
    <ActionBar.titleView>
      <Label text="Progress" horizontalAlignment="center" class="action-bar-title" />
    </ActionBar.titleView>
    <NavigationButton tap="toggleDrawer" icon="res://ic_hamburger" />
	</ActionBar>

  <sd:RadSideDrawer id="sideDrawer" showOverNavigation="true">
    <sd:RadSideDrawer.drawerContent>
      <sidedrawer:sd/>
    </sd:RadSideDrawer.drawerContent>
    
    <sd:RadSideDrawer.mainContent horizontalAlignment="center">

		<TabView androidSelectedTabHighlightColor="#FFA730">
		 <TabView.items>
			<TabViewItem title="Day" >
			   <TabViewItem.view>
			   		<StackLayout>
			   			<GridLayout class="titleStack" horizontalAlignment="center" row="auto" columns="7*, *">
			   				<Label text="Mins on Watchlist Today" row="0" col="0" class="header" horizontalAlignment="center"/>
			   				<Button text="{{ showDayGraph ? 'Hide' : 'Show'}}" tap="toggle" class="shide" row="0" col="1"/>
			   			</GridLayout>
			   			<Placeholder creatingView="dayView" visibility = "{{ showDayGraph ? 'visible' : 'collapsed'}}"/>

			   			<!-- 	For the horizontal button like displays  -->
		   				<lv:RadListView id="listButtons" class="list-group">
		   					<lv:RadListView.listViewLayout>
		   			            <lv:ListViewGridLayout scrollDirection="Vertical" itemHeight="100" spanCount="3"/>
		   			        </lv:RadListView.listViewLayout>
		   			        <lv:RadListView.itemTemplate>
		   			            <StackLayout class="list-buttons">
		   			                <Label text="{{ value }}" class="list-number" />
		   			                <Label text="{{ desc }}" textWrap="true" class="list-desc" />
		   			            </StackLayout>
		   			        </lv:RadListView.itemTemplate>
		   			    </lv:RadListView>

			   			<!-- 
			   			    For the list of goal apps and their time usage -->
			   			 
			   				<lv:RadListView id="listview" class="list-group" items="{{ dayItems }}" >
			   					<lv:RadListView.listViewLayout>
			   			            <lv:ListViewLinearLayout scrollDirection="Vertical"/>
			   			        </lv:RadListView.listViewLayout>
			   			        <lv:RadListView.itemTemplate>
			   			        	<RL:Ripple rippleColor="#CFCFCF" tap="goToDetailApps">
			   			        	<GridLayout class="list-group-item" rows="auto" columns="auto, *, auto">
	   			        	            <Image row="0" col="0" src="{{ image }}" class="thumb img-rounded" />
	   			        	            <StackLayout row="0" col="1" >
	   			        	                <Label text="{{ name }}" class="list-group-item-heading" />
	   			        	                <Label text="{{ 'Opened '+ visits + ' times' }}" class="list-group-item-text" />
	   			        	            </StackLayout>
	   			        	            <Label row ="0" col="2" text="{{ mins + ' mins' }}" class="list-group-item-text"/>
			   			        	</GridLayout>
			   			        	</RL:Ripple>
			   			        </lv:RadListView.itemTemplate>
			   			    </lv:RadListView>
			   			

				   		</StackLayout>
					</TabViewItem.view>
				</TabViewItem>
			
		 <TabViewItem title="Week" >
			 <TabViewItem.view>
						 <StackLayout>
							 <GridLayout class="titleStack" horizontalAlignment="center" row="auto" columns="7*, *">
					   				<Label text="Mins on Watchlist This Week" row="0" col="0" class="header" horizontalAlignment="center"/>
					   				<Button text="{{ showWeekGraph ? 'Hide' : 'Show'}}" tap="toggleWeek" class="shide" row="0" col="1"/>
				   			</GridLayout>
						 	<Placeholder creatingView="weekView" visibility = "{{ showWeekGraph ? 'visible' : 'collapsed'}}" id="line"/>
						 <!-- 	For the horizontal button like displays  -->
						 		<lv:RadListView id="weekButtons" class="list-group">
			   					<lv:RadListView.listViewLayout>
			   			            <lv:ListViewGridLayout scrollDirection="Vertical" itemHeight="100" spanCount="3"/>
			   			        </lv:RadListView.listViewLayout>
			   			        <lv:RadListView.itemTemplate>
			   			            <StackLayout class="list-buttons">
			   			                <Label text="{{ value }}" class="list-number" />
			   			                <Label text="{{ desc }}" textWrap="true" class="list-desc" />
			   			            </StackLayout>
			   			        </lv:RadListView.itemTemplate>
			   			    </lv:RadListView>

			   			    <!-- 
			   			    For the list of goal apps and their time usage -->
			   			    <lv:RadListView id="weekList" class="list-group" items="{{ weekItems }}" itemTap="goToDetailApps">
			   					<lv:RadListView.listViewLayout>
			   			            <lv:ListViewLinearLayout scrollDirection="Vertical" itemHeight="100" />
			   			        </lv:RadListView.listViewLayout>
			   			        <lv:RadListView.itemTemplate>
			   			        	<RL:Ripple rippleColor="#CFCFCF" tap="goToDetailApps">
			   			        	<GridLayout class="list-group-item" rows="auto" columns="auto, *, *, auto">
	   			        	            <Image row="0" col="0" src="{{ imagesrc }}" class="thumb img-rounded" />
	   			        	            <StackLayout row="0" col="1" >
	   			        	                <Label text="{{ name }}" class="list-group-item-heading"/>
	   			        	                <Label text="{{ 'Avg min/day:  ' + avgMins }}" class="list-group-item-text" />
	   			        	            </StackLayout>
	   			        	            <Label row="0" col="2" text = "{{ percChange }}" id="perChange" horizontalAlignment="center"/>
		   			        	            <Label row="0" col="3" text="{{ totalMins + ' mins'}}" class="list-group-item-text" horizontalAlignment="center"/>
			   			        	</GridLayout>
			   			        	</RL:Ripple>
			   			        </lv:RadListView.itemTemplate>
			   			    </lv:RadListView>

			   			</StackLayout>

					  </TabViewItem.view>
				  </TabViewItem>
							     
				<TabViewItem title="Month">
					 <TabViewItem.view>
					     <StackLayout>
					   		 <GridLayout class="titleStack" horizontalAlignment="center" row="auto" columns="7*, *">
					   				<Label text="Mins on Watchlist This Month" row="0" col="0" class="header" horizontalAlignment="center"/>
					   				<Button text="{{ showMonthGraph ? 'Hide' : 'Show'}}" tap="toggleMonth" class="shide" row="0" col="1"/>
				   			</GridLayout>
						 	
						 	<Placeholder creatingView="monthView" visibility = "{{ showMonthGraph ? 'visible' : 'collapsed'}}"/>

					     	<lv:RadListView id="monthButtons" class="list-group">
			   					<lv:RadListView.listViewLayout>
			   			            <lv:ListViewGridLayout scrollDirection="Vertical" itemHeight="100" spanCount="3"/>
			   			        </lv:RadListView.listViewLayout>
			   			        <lv:RadListView.itemTemplate>
			   			            <StackLayout class="list-buttons">
			   			                <Label text="{{ value }}" class="list-number" />
			   			                <Label text="{{ desc }}" textWrap="true" class="list-desc" />
			   			            </StackLayout>
			   			        </lv:RadListView.itemTemplate>

			   			    </lv:RadListView>
			   			    <lv:RadListView id="monthList" class="list-group" items="{{ monthItems }}" itemTap="goToDetailApps">
			   					<lv:RadListView.listViewLayout>
			   			            <lv:ListViewLinearLayout scrollDirection="Vertical" itemHeight="100" />
			   			        </lv:RadListView.listViewLayout>
			   			        <lv:RadListView.itemTemplate>
			   			        	<RL:Ripple rippleColor="#CFCFCF" tap="goToDetailApps">
			   			        	<GridLayout class="list-group-item" rows="auto" columns="auto, *, auto">
	   			        	            <Image row="0" col="0" src="{{ imagesrc }}" class="thumb img-rounded" />
	   			        	            <StackLayout row="0" col="1" >
	   			        	                <Label text="{{ name }}" class="list-group-item-heading" />
	   			        	                <Label text="{{ 'Avg min/day:  ' + avgMins }}" class="list-group-item-text" />
	   			        	            </StackLayout>
	   			        	            <!-- <StackLayout row ="0" col="3"> -->
		   			        	            <Label row="0" col="2" text="{{ totalMins + ' mins'}}" class="list-group-item-text" horizontalAlignment="center"/>
		   			        	            <!-- <Label text="total mins/week" class="list-desc"/> -->
	   			        	        	<!-- </StackLayout> -->
			   			        	</GridLayout>
			   			        	</RL:Ripple>
			   			        </lv:RadListView.itemTemplate>
			   			    </lv:RadListView>


					 </StackLayout>
			       </TabViewItem.view>

				 </TabViewItem>
			   </TabView.items>
			</TabView>

    	
            
     </sd:RadSideDrawer.mainContent>


  </sd:RadSideDrawer>

</Page>