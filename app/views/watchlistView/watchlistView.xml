<Page loaded="pageLoaded" id="watchlist" unloaded="pageUnloaded"
  xmlns:sidedrawer="shared/sd" 
  xmlns="http://schemas.nativescript.org/tns.xsd" 
  xmlns:sd="nativescript-telerik-ui/sidedrawer">

  <ActionBar class="action-bar">
    <ActionBar.titleView>
      <Label text="Watchlist" horizontalAlignment="center" class="action-bar-title" />
    </ActionBar.titleView>
    <NavigationButton tap="toggleDrawer" icon="res://ic_hamburger" />
  </ActionBar>

  <sd:RadSideDrawer id="sideDrawer" showOverNavigation="true">
    <sd:RadSideDrawer.drawerContent>
      <sidedrawer:sd />
    </sd:RadSideDrawer.drawerContent>

    <sd:RadSideDrawer.mainContent horizontalAlignment="center" >
      <TabView androidSelectedTabHighlightColor="#FFA730" selectedIndexChanged="onIndexChange" id="tabView">
        <TabView.items>

          <TabViewItem title="Watchlist">
            <TabViewItem.view>
              <StackLayout>
              <ListView items="{{watchlist}}" separatorColor="#FFFFFF" itemTap="onItemTap" height="90%">
                <ListView.itemTemplate>
                  <GridLayout columns="auto,*,auto" rows="auto,auto" class="watchlist-elem" >
                    <Image col="0" imageSource="{{icon}}" verticalAlignment="center" class="watchlist-icon" />
                    <Label col="1" text="{{name}}" class="watchlist-label" />
                    <Image col="2" src="res://ic_arrow_right" />
                  </GridLayout>
                </ListView.itemTemplate>
              </ListView>
             <Button text="Manage Watchlist" tap="onManageWatchlist" id="manage" class="manage-button"/>
           </StackLayout>
          </TabViewItem.view>
          </TabViewItem>

        
        <TabViewItem title="Targets">
          <TabViewItem.view>
            <StackLayout>
            <ListView  id= "targetList" items="{{target}}" separatorColor="#FFFFFF" itemTap="onTargetTap" height="90%">
              <ListView.itemTemplate>
                <GridLayout columns="auto,*,auto" rows="auto,auto" class="watchlist-elem" >
                  <Image col="0" imageSource="{{icon}}" verticalAlignment="center" class="watchlist-icon" />
                  <Label col="1" text="{{name}}" class="watchlist-label" />
                  <Image col="2" src="res://ic_arrow_right" />
                </GridLayout>
              </ListView.itemTemplate>
            </ListView>
           <Button text="Manage Targets" tap="onManageTargets" id="manageTargets" class="manage-button"/>
           <Label text="When you have been on a watchlist app for too long, HabitLab will prompt you to visit your target sites" class="tutorial-header" id="tutorialHeader" visibility="collapsed" textWrap="true"/>
           <Button text="Next" id="nextTutorial" tap="goNextTutorial" visibility="collapsed"/>
         </StackLayout>
         </TabViewItem.view>
        </TabViewItem>


        </TabView.items>
      </TabView>
    <!-- </StackLayout> -->


    </sd:RadSideDrawer.mainContent>
  </sd:RadSideDrawer>
</Page>